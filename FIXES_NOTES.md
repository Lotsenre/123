# ‚úÖ –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –æ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö

## üîß –û—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1Ô∏è‚É£ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ 500 –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏**

**–§–∞–π–ª**: `app/models/tickets.py`

**–ù–æ–≤–æ–µ**:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã `relationship()` –∫–æ –í–°–ï–ú –º–æ–¥–µ–ª—è–º (`Train`, `Wagon`, `Seat`, `Ticket`)
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤—Å–µ —Å–≤—è–∑–∏ –û—Ç–æ –∫ –ú–Ω–æ–≥–∏–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `back_populates` –¥–ª—è SQLAdmin

**–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–µ—à–∞–µ—Ç**:
- SQLAdmin –Ω–∏–µ –º–æ–≥ –Ω–∞–π—Ç–∏ —Å–≤—è–∑–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—á–µ–∫–µ —ç–¥–∏—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –ø–æ–ª—è (–Ω–∞–ø—Ä. `train_id`) –±–µ–∑ –æ—à–∏–±–æ–∫ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –¥—Ä–æ–ø–¥–∞—É–Ω —Å –¥–∞–Ω–Ω—ã–º–∏

---

### 2Ô∏è‚É£ **–ù–∞—Å—Ç—Ä–æ–µ–Ω Alembic**

**–§–∞–π–ª**: `migrations/env.py`

**–ù–æ–≤–æ–µ**:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `Train`, `Wagon`, `Seat`, `Ticket`
- ‚úÖ –¢–µ–ø–µ—Ä—å Alembic –≤–∏–¥–∏—Ç –≤—Å–µ –º–æ–¥–µ–ª–∏

**–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–µ—à–∞–µ—Ç**:
- Alembic –º–æ–∂–µ—Ç —Ç–µ–ø–µ—Ä—å –≤–∏–¥–µ—Ç—å –∏—Å—Ç–∏–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∏ —Å–≤—è–∑–∏
- –ö–æ–º–∞–Ω–¥–∞ `alembic revision --autogenerate` —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### 3Ô∏è‚É£ **–£–ª—É—á—à–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è SQLAdmin**

**–§–∞–π–ª**: `main.py`

**–ù–æ–≤–æ–µ**:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –º–∞—Å—Ç–µ—Ä–∞–º –º–∞—Ä–∞–º —Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤—Å–µ –æ—Ç–º–µ—Ç–∫–∏ (`page_size`, `page_size_options`)
- ‚úÖ –û—Ç–∫–ª—é—á–µ–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–µ–∑–¥–æ–≤ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –õ—É—á—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## ‚è±Ô∏è –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
```bash
python main.py
# –∏–ª–∏
# uvicorn main:app --reload
```

### –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:
```
http://localhost:8000/admin
```

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Alembic:
```bash
# –ù–∞–ø—Ä–∞–≤–∏—Ç—å –∞–≤—Ç–æ-–≥–µ–Ω–µ—Ä–∞—Ü–∏—é
 alembic revision --autogenerate -m "auto migration"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic current
alembic history
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ!

–ï—Å–ª–∏ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å —ç—Ç–æ **–µ—â–µ –Ω–µ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç** - —Ä–µ–Ω—Ç—Ä—é–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä (Ctrl+C –∏ —Å–Ω–æ–≤–∞ `python main.py`).

–ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥—Ä—è–∑–Ω–∞—è - —É–¥–∞–ª–∏—Ç—å `test.db` –∏ –±–∞–∑–∞ —ç–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–Ω–∞.

---

## ‚úÖ –ü—Ä–∏–º–æ—Ç—Ä–∏—Ç–µ –æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–º–∏—Ç—ã

1. `fcd6d2b` - üîß Fix: –¥–æ–±–∞–≤–∏–ª relationship() –≤ –º–æ–¥–µ–ª—å Ticket
2. `0f57213` - üîß Fix: –∏—Å–ø—Ä–∞–≤–∏–ª Alembic env.py
3. `f9f661b` - üîß Fix: —É–ª—É—á—à–µ–Ω–∞ SQLAdmin –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

